<!doctype html><html lang="zh" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="This is my personal blog"><link rel="canonical" href="http://blog.jokerhub.cn/iOS/swift4-notes/"><meta name="author" content="wangzhizhou"><meta name="lang:clipboard.copy" content="复制"><meta name="lang:clipboard.copied" content="已复制"><meta name="lang:search.language" content="ja"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="没有找到符合条件的结果"><meta name="lang:search.result.one" content="找到 1 个符合条件的结果"><meta name="lang:search.result.other" content="# 个符合条件的结果"><meta name="lang:search.tokenizer" content="[\uff0c\u3002]+"><link rel="shortcut icon" href="../../img/favicon.ico"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>Swift4 - Joker Blog</title><link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css"><meta name="theme-color" content="#4caf50"><script src="../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:300,400,400i,700|Ubuntu+Mono&display=swap"><style>body,input{font-family:"Roboto Slab","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../assets/fonts/material-icons.css"><link rel="stylesheet" href="../../stylesheets/extra.css"><script>window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-36723568-3", "mkdocs.org")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body dir="ltr" data-md-color-primary="green" data-md-color-accent="orange"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#swift-4" tabindex="1" class="md-skip">跳转至 </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="http://blog.jokerhub.cn" title="Joker Blog" class="md-header-nav__button md-logo"><i class="md-icon"></i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">Joker Blog</span><span class="md-header-nav__topic">Swift4</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">键入以开始搜索</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/wangzhizhou/JokerBlog/" title="前往 Github 仓库" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">JokerBlog</div></a></div></div></div></nav></header><div class="md-container"><nav class="md-tabs md-tabs--active" data-md-component="tabs"><div class="md-tabs__inner md-grid"><ul class="md-tabs__list"><li class="md-tabs__item"><a href="../.." title="主页" class="md-tabs__link">主页</a></li><li class="md-tabs__item"><a href="../../job/My Plan for finding Job/" title="工作" class="md-tabs__link">工作</a></li><li class="md-tabs__item"><a href="../../life/alipay-scan-fu-icon/" title="生活" class="md-tabs__link">生活</a></li><li class="md-tabs__item"><a href="../../geek/wireguard/" title="Geek" class="md-tabs__link md-tabs__link--active">Geek</a></li><li class="md-tabs__item"><a href="../../me/My Financial Planning/" title="关于我" class="md-tabs__link">关于我</a></li></ul></div></nav><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="http://blog.jokerhub.cn" title="Joker Blog" class="md-nav__button md-logo"><i class="md-icon"></i></a>Joker Blog</label><div class="md-nav__source"><a href="https://github.com/wangzhizhou/JokerBlog/" title="前往 Github 仓库" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">JokerBlog</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1"><label class="md-nav__link" for="nav-1">主页</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-1">主页</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../.." title="简介" class="md-nav__link">简介</a></li><li class="md-nav__item"><a href="../../How I create this blog/" title="博客创建过程" class="md-nav__link">博客创建过程</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2"><label class="md-nav__link" for="nav-2">工作</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">工作</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../job/My Plan for finding Job/" title="求职" class="md-nav__link">求职</a></li><li class="md-nav__item"><a href="../../job/dimission/" title="离职" class="md-nav__link">离职</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3"><label class="md-nav__link" for="nav-3">生活</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">生活</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../life/alipay-scan-fu-icon/" title="支付宝集福" class="md-nav__link">支付宝集福</a></li><li class="md-nav__item"><a href="../../life/Renting in Beijing/" title="北京租房" class="md-nav__link">北京租房</a></li><li class="md-nav__item"><a href="../../life/Gu Bei Shui Zhen/" title="古北水镇游玩" class="md-nav__link">古北水镇游玩</a></li><li class="md-nav__item"><a href="../../life/WuZhen/" title="乌镇游玩" class="md-nav__link">乌镇游玩</a></li><li class="md-nav__item"><a href="../../minecraft/minecraft/" title="我的世界游戏" class="md-nav__link">我的世界游戏</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked><label class="md-nav__link" for="nav-4">Geek</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">Geek</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../geek/wireguard/" title="WireGuard" class="md-nav__link">WireGuard</a></li><li class="md-nav__item"><a href="../../geek/Git/" title="Git核心技能" class="md-nav__link">Git核心技能</a></li><li class="md-nav__item"><a href="../../geek/Network Simulator 2 Installation Guide for Ubuntu/" title="Ubuntu安装NS2网络模拟器" class="md-nav__link">Ubuntu安装NS2网络模拟器</a></li><li class="md-nav__item"><a href="../../geek/Learn STL In 30 Minutes/" title="30分钟掌握STL" class="md-nav__link">30分钟掌握STL</a></li><li class="md-nav__item"><a href="../../geek/Installation of Ubuntu 16.04 On UDisk/" title="U盘安装Ubuntu" class="md-nav__link">U盘安装Ubuntu</a></li><li class="md-nav__item"><a href="../../geek/Configure Git Server With Ubuntn and Apache 2/" title="搭建Git服务" class="md-nav__link">搭建Git服务</a></li><li class="md-nav__item"><a href="../../geek/User OpenCV to add watermark on a video/" title="OpenCV给视频添加水印" class="md-nav__link">OpenCV给视频添加水印</a></li><li class="md-nav__item"><a href="../../geek/Add Watermark on Video with OpenCV and FFmpeg/" title="OpenCV+FFmpeg给视频添加水印" class="md-nav__link">OpenCV+FFmpeg给视频添加水印</a></li><li class="md-nav__item"><a href="../../geek/Develop DLNA Using Platinum Library/" title="DLNA开发" class="md-nav__link">DLNA开发</a></li><li class="md-nav__item"><a href="../../geek/Nmap Basics/" title="Nmap基础" class="md-nav__link">Nmap基础</a></li><li class="md-nav__item"><a href="../../geek/Use GDB/" title="GDB使用" class="md-nav__link">GDB使用</a></li><li class="md-nav__item"><a href="../../geek/kotlin/" title="Kotlin学习" class="md-nav__link">Kotlin学习</a></li><li class="md-nav__item"><a href="../../geek/jupyterhub/" title="jupyterhub工具使用" class="md-nav__link">jupyterhub工具使用</a></li><li class="md-nav__item"><a href="../../geek/bluegogo-crack/" title="bluegogo破解" class="md-nav__link">bluegogo破解</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-15" type="checkbox" id="nav-4-15"><label class="md-nav__link" for="nav-4-15">FFmpeg</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-4-15">FFmpeg</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../geek/FFmpeg and SDL tutorial 1/" title="FFmpeg教程" class="md-nav__link">FFmpeg教程</a></li><li class="md-nav__item"><a href="../../geek/FFmpeg compiled on MacOS/" title="Mac上编译FFmpeg" class="md-nav__link">Mac上编译FFmpeg</a></li><li class="md-nav__item"><a href="../../geek/FFmpeg version 3.1.4 example code/" title="FFmpeg示例代码学习" class="md-nav__link">FFmpeg示例代码学习</a></li><li class="md-nav__item"><a href="../../geek/Fmpeg 2.8.6 example code - transcoding/" title="FFmpeg转码学习" class="md-nav__link">FFmpeg转码学习</a></li><li class="md-nav__item"><a href="../../geek/Convert MP4 to GIF With FFmpeg/" title="使用FFmpeg将MP4转成GIF图片" class="md-nav__link">使用FFmpeg将MP4转成GIF图片</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-16" type="checkbox" id="nav-4-16"><label class="md-nav__link" for="nav-4-16">Jenkins</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-4-16">Jenkins</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../jenkins/guide/" title="导览" class="md-nav__link">导览</a></li><li class="md-nav__item"><a href="../../jenkins/guide/first-pipeline/" title="第一个管道" class="md-nav__link">第一个管道</a></li><li class="md-nav__item"><a href="../../jenkins/guide/multiple-steps-pipeline/" title="多步管道" class="md-nav__link">多步管道</a></li><li class="md-nav__item"><a href="../../jenkins/guide/define-execution-environments/" title="定义执行环境" class="md-nav__link">定义执行环境</a></li><li class="md-nav__item"><a href="../../jenkins/guide/using-environment-variables/" title="使用环境变量" class="md-nav__link">使用环境变量</a></li><li class="md-nav__item"><a href="../../jenkins/guide/recording-test-results-and-artifacts/" title="记录测试结果" class="md-nav__link">记录测试结果</a></li><li class="md-nav__item"><a href="../../jenkins/guide/cleaning-up-and-notification/" title="清理和通知" class="md-nav__link">清理和通知</a></li><li class="md-nav__item"><a href="../../jenkins/guide/deployment/" title="布署" class="md-nav__link">布署</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-17" type="checkbox" id="nav-4-17"><label class="md-nav__link" for="nav-4-17">ReactiveX</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-4-17">ReactiveX</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../reactiveX/introduction/" title="介绍" class="md-nav__link">介绍</a></li><li class="md-nav__item"><a href="../../reactiveX/Observable/" title="可观察的" class="md-nav__link">可观察的</a></li><li class="md-nav__item"><a href="../../reactiveX/Operators/" title="运算符" class="md-nav__link">运算符</a></li><li class="md-nav__item"><a href="../../reactiveX/Single/" title="单事件可观察对象" class="md-nav__link">单事件可观察对象</a></li><li class="md-nav__item"><a href="../../reactiveX/Subject/" title="主题" class="md-nav__link">主题</a></li><li class="md-nav__item"><a href="../../reactiveX/Scheduler/" title="调度器" class="md-nav__link">调度器</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-18" type="checkbox" id="nav-4-18"><label class="md-nav__link" for="nav-4-18">Docker</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-4-18">Docker</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../docker/start-learn/" title="简介" class="md-nav__link">简介</a></li><li class="md-nav__item"><a href="../../docker/Orientation/" title="定位" class="md-nav__link">定位</a></li><li class="md-nav__item"><a href="../../docker/Container/" title="容器" class="md-nav__link">容器</a></li><li class="md-nav__item"><a href="../../docker/Service/" title="服务" class="md-nav__link">服务</a></li><li class="md-nav__item"><a href="../../docker/Swarm/" title="机群" class="md-nav__link">机群</a></li><li class="md-nav__item"><a href="../../docker/Stack/" title="栈" class="md-nav__link">栈</a></li><li class="md-nav__item"><a href="../../docker/Deploy/" title="部署应用" class="md-nav__link">部署应用</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-19" type="checkbox" id="nav-4-19"><label class="md-nav__link" for="nav-4-19">Nginx</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-4-19">Nginx</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../nginx/beginner-guide/" title="新手教程" class="md-nav__link">新手教程</a></li><li class="md-nav__item"><a href="../../nginx/application/" title="主要用途" class="md-nav__link">主要用途</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-20" type="checkbox" id="nav-4-20" checked><label class="md-nav__link" for="nav-4-20">iOS</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-4-20">iOS</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../workflow/" title="工作流" class="md-nav__link">工作流</a></li><li class="md-nav__item"><a href="../XCode 9 CI/" title="持续集成" class="md-nav__link">持续集成</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Swift4</label><a href="./" title="Swift4" class="md-nav__link md-nav__link--active">Swift4</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">目录</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#_1" title="快速开始" class="md-nav__link">快速开始</a></li><li class="md-nav__item"><a href="#_2" title="语言细节" class="md-nav__link">语言细节</a></li><li class="md-nav__item"><a href="#_3" title="语言参考" class="md-nav__link">语言参考</a></li><li class="md-nav__item"><a href="#__comments" title="评论" class="md-nav__link md-nav__link--active">评论</a></li></ul></nav></li><li class="md-nav__item"><a href="../swift5-notes/" title="Swift5" class="md-nav__link">Swift5</a></li><li class="md-nav__item"><a href="../../geek/swift on client and server/" title="Swift在客户端和服务端的使用" class="md-nav__link">Swift在客户端和服务端的使用</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-20-6" type="checkbox" id="nav-4-20-6"><label class="md-nav__link" for="nav-4-20-6">服务端Swift</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-4-20-6">服务端Swift</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../swift-on-server/[4]Swift-Package-Manager/" title="第四章Swfit包管理器" class="md-nav__link">第四章Swfit包管理器</a></li><li class="md-nav__item"><a href="../swift-on-server/[5]Writng-ToDoList-With-Kitura/" title="第五章使用Kitura写ToDoList" class="md-nav__link">第五章使用Kitura写ToDoList</a></li></ul></nav></li><li class="md-nav__item"><a href="../objc/" title="OC相关" class="md-nav__link">OC相关</a></li><li class="md-nav__item"><a href="../reverse/" title="逆向工程" class="md-nav__link">逆向工程</a></li><li class="md-nav__item"><a href="../optimization/" title="应用优化" class="md-nav__link">应用优化</a></li><li class="md-nav__item"><a href="../../geek/Optimizing App Startup Time/" title="优化应用启动时长" class="md-nav__link">优化应用启动时长</a></li><li class="md-nav__item"><a href="../review/" title="面试" class="md-nav__link">面试</a></li><li class="md-nav__item"><a href="../sort/" title="十大排序算法" class="md-nav__link">十大排序算法</a></li><li class="md-nav__item"><a href="../runtime/" title="OC运行时编译" class="md-nav__link">OC运行时编译</a></li><li class="md-nav__item"><a href="../TPG/" title="线程编码指南" class="md-nav__link">线程编码指南</a></li><li class="md-nav__item"><a href="../design-pattern/" title="设计模式" class="md-nav__link">设计模式</a></li><li class="md-nav__item"><a href="../TDD/" title="测试驱动开发" class="md-nav__link">测试驱动开发</a></li><li class="md-nav__item"><a href="../airdrop/" title="AirDrop社交" class="md-nav__link">AirDrop社交</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-21" type="checkbox" id="nav-4-21"><label class="md-nav__link" for="nav-4-21">乐理基础</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-4-21">乐理基础</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-21-1" type="checkbox" id="nav-4-21-1"><label class="md-nav__link" for="nav-4-21-1">乐音</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-4-21-1">乐音</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../music/theory/tones/Pitches and Clefs/" title="音高和谱号" class="md-nav__link">音高和谱号</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-21-2" type="checkbox" id="nav-4-21-2"><label class="md-nav__link" for="nav-4-21-2">节拍</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-4-21-2">节拍</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../music/theory/rhythms/Note Values and Basic Notation/" title="Note Values and Basic Notation" class="md-nav__link">Note Values and Basic Notation</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-21-3" type="checkbox" id="nav-4-21-3"><label class="md-nav__link" for="nav-4-21-3">曲调</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-4-21-3">曲调</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../music/theory/tunes/Melodies/" title="Melodies" class="md-nav__link">Melodies</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-21-4" type="checkbox" id="nav-4-21-4"><label class="md-nav__link" for="nav-4-21-4">伴奏</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-4-21-4">伴奏</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../music/theory/accompanying/Transcribing What You Hear/" title="Transcribing What You Hear" class="md-nav__link">Transcribing What You Hear</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-21-5" type="checkbox" id="nav-4-21-5"><label class="md-nav__link" for="nav-4-21-5">修饰</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-4-21-5">修饰</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../music/theory/embellishing/Harmony and Counterpoint/" title="Harmony and Counterpoint" class="md-nav__link">Harmony and Counterpoint</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-21-6" type="checkbox" id="nav-4-21-6"><label class="md-nav__link" for="nav-4-21-6">编曲</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-4-21-6">编曲</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../music/theory/arranging/composing and arranging for voices and instruments/" title="Composing and arranging for voices and instruments" class="md-nav__link">Composing and arranging for voices and instruments</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-21-7" type="checkbox" id="nav-4-21-7"><label class="md-nav__link" for="nav-4-21-7">附录</label><nav class="md-nav" data-md-component="collapsible" data-md-level="3"><label class="md-nav__title" for="nav-4-21-7">附录</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../music/theory/appendixes/A/" title="A" class="md-nav__link">A</a></li></ul></nav></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5"><label class="md-nav__link" for="nav-5">关于我</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-5">关于我</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../me/My Financial Planning/" title="理财" class="md-nav__link">理财</a></li><li class="md-nav__item"><a href="../../me/Life in Beijing/" title="人在北京" class="md-nav__link">人在北京</a></li><li class="md-nav__item"><a href="../../me/my hardware/" title="硬件" class="md-nav__link">硬件</a></li><li class="md-nav__item"><a href="../../me/Personal Pre-Work Record/" title="早起记录" class="md-nav__link">早起记录</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">目录</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#_1" title="快速开始" class="md-nav__link">快速开始</a></li><li class="md-nav__item"><a href="#_2" title="语言细节" class="md-nav__link">语言细节</a></li><li class="md-nav__item"><a href="#_3" title="语言参考" class="md-nav__link">语言参考</a></li><li class="md-nav__item"><a href="#__comments" title="评论" class="md-nav__link md-nav__link--active">评论</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/wangzhizhou/JokerBlog/edit/master/docs/iOS/swift4-notes.md" title="编辑此页" class="md-icon md-content__icon">&#xE3C9;</a><h1 id="swift-4">Swift 4 语言笔记<a class="headerlink" href="#swift-4" title="Permanent link">&para;</a></h1>
<h2 id="_1">快速开始<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<ul>
<li>版本判断</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>#<span class="k">if</span> <span class="nv">swift</span><span class="ss">(</span><span class="o">&gt;=</span><span class="mi">3</span>.<span class="mi">2</span><span class="ss">)</span>
    <span class="nv">print</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">&gt;=3.2</span><span class="s2">&quot;</span><span class="ss">)</span>
#<span class="k">else</span>
    <span class="nv">print</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">&lt;3</span><span class="s2">&quot;</span><span class="ss">)</span>
#<span class="k">endif</span>
</pre></div>
</td></tr></table>

<ul>
<li>常量<code class="codehilite"><span class="n">let</span></code>声明： 显式/隐式，类型转换必须显式</li>
<li>
<p>变量<code class="codehilite"><span class="n">var</span></code>声明</p>
</li>
<li>
<p>字符串格式化模板：<code class="codehilite"><span class="ss">&quot;I have \(apples + oranges) pieces of fruit.&quot;</span></code></p>
</li>
<li>
<p>多行字符串使用<code class="codehilite"><span class="ss">&quot;&quot;</span><span class="err">&quot;</span></code>：</p>
</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">let</span> <span class="n">quotation</span> <span class="o">=</span> <span class="ss">&quot;&quot;&quot;</span>
<span class="ss">I am joker.</span>

<span class="ss">And She is a girl.</span>

<span class="ss">We are family.</span>
<span class="ss">&quot;&quot;&quot;</span>

<span class="n">print</span><span class="p">(</span><span class="n">quotation</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<ul>
<li>
<p>数组和字符允许最后一个元素带<code class="codehilite"><span class="p">,</span></code>号，如果类型信息能推断，可能使用<code class="codehilite"><span class="p">[]</span></code>、<code class="codehilite"><span class="p">[:]</span></code>来定义空数组和字典，否则使用初始化器: <code class="codehilite"><span class="o">[</span><span class="n">String</span><span class="o">]</span><span class="p">()</span><span class="w"></span></code>、<code class="codehilite"><span class="p">[</span><span class="n">String</span><span class="p">:</span><span class="n">String</span><span class="p">]()</span></code></p>
</li>
<li>
<p><code class="codehilite"><span class="k">if</span></code>、<code class="codehilite"><span class="n">switch</span></code>、<code class="codehilite"><span class="k">for</span><span class="o">-</span><span class="nv">in</span></code>、<code class="codehilite"><span class="k">while</span></code>、<code class="codehilite"><span class="nv">repeat</span><span class="o">-</span><span class="k">while</span></code>的条件部分可以不带括号，但执行体必须用花括号包住</p>
</li>
<li>
<p>正常类型后面跟个<code class="codehilite"><span class="o">?</span></code>号就是<code class="codehilite"><span class="n">Optional</span></code>类型，使用<code class="codehilite"><span class="k">if</span> <span class="nv">let</span> <span class="nv">local</span> <span class="o">=</span> <span class="nv">optional</span> {}</code>是使用<code class="codehilite"><span class="n">optional</span></code>类型的一种常用方式, <code class="codehilite"><span class="k">local</span></code>变量只在<code class="codehilite"><span class="k">if</span> <span class="o">-</span> <span class="nv">let</span></code>执行体内部有效</p>
</li>
<li>
<p><code class="codehilite"><span class="o">??</span></code>是给<code class="codehilite"><span class="n">Optional</span></code>类型变量取默认值的方法</p>
</li>
<li>
<p><code class="codehilite"><span class="n">switch</span></code>支持各种类型, <code class="codehilite"><span class="err"></span><span class="k">case</span></code>默认不需要加<code class="codehilite"><span class="k">break</span></code>，使用<code class="codehilite"><span class="n">fallthrough</span></code>可以漏到下一个<code class="codehilite"><span class="k">case</span></code></p>
</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">let</span> <span class="n">v</span> <span class="o">=</span> <span class="ss">&quot;raff&quot;</span>
<span class="n">switch</span> <span class="n">v</span> <span class="err">{</span>
<span class="k">case</span> <span class="ss">&quot;red&quot;</span><span class="p">:</span>
    <span class="n">print</span><span class="p">(</span><span class="ss">&quot;red&quot;</span><span class="p">)</span>
<span class="k">case</span> <span class="n">let</span> <span class="n">x</span> <span class="k">where</span> <span class="n">x</span><span class="p">.</span><span class="n">hasPrefix</span><span class="p">(</span><span class="ss">&quot;r&quot;</span><span class="p">):</span>
    <span class="n">print</span><span class="p">(</span><span class="ss">&quot;r prefix&quot;</span><span class="p">)</span>
    <span class="n">fallthrough</span>
<span class="k">case</span> <span class="n">let</span> <span class="ss">&quot;r&quot;</span><span class="p">:</span>
    <span class="n">print</span><span class="p">(</span><span class="ss">&quot;fallthrough&quot;</span><span class="p">)</span>
<span class="k">default</span><span class="p">:</span>
    <span class="n">print</span><span class="p">(</span><span class="ss">&quot;default&quot;</span><span class="p">)</span>
<span class="err">}</span>
</pre></div>
</td></tr></table>

<ul>
<li>
<p>字典枚举时是无序的: <code class="codehilite"><span class="k">for</span> <span class="ss">(</span><span class="nv">key</span>, <span class="nv">value</span><span class="ss">)</span> <span class="nv">in</span> <span class="nv">dict</span> {}</code></p>
</li>
<li>
<p>循环：
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">var</span> <span class="nv">n</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">while</span> <span class="nv">n</span> <span class="o">&lt;</span> <span class="mi">100</span> {
    <span class="nv">n</span> <span class="o">*=</span> <span class="mi">2</span>
}
<span class="nv">print</span><span class="ss">(</span><span class="nv">n</span><span class="ss">)</span>
</pre></div>
</td></tr></table></p>
</li>
<li>
<p>最少执行一次的循环
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">var</span> <span class="nv">m</span> <span class="o">=</span> <span class="mi">2</span>
<span class="nv">repeat</span> {
    <span class="nv">m</span> <span class="o">*=</span> <span class="mi">2</span>
}<span class="k">while</span> <span class="nv">m</span> <span class="o">&lt;</span> <span class="mi">100</span>
<span class="nv">print</span><span class="ss">(</span><span class="nv">m</span><span class="ss">)</span>
</pre></div>
</td></tr></table></p>
</li>
<li>
<p><code class="codehilite"><span class="cp">..&lt;</span></code>和<code class="codehilite"><span class="p">...</span></code>可以生成一个序列，右边界不同</p>
</li>
<li>
<p>定义函数<code class="codehilite"><span class="n">func</span></code>, <code class="codehilite"><span class="o">-&gt;</span></code>指明返回值类型, 默认参数标签和参数名相同
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">func</span> <span class="nv">greet</span><span class="ss">(</span><span class="nv">person</span>: <span class="nv">String</span>, <span class="nv">day</span>: <span class="nv">String</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">String</span> {
    <span class="k">return</span> <span class="s2">&quot;</span><span class="s">Hello, \(person), today is \(day).</span><span class="s2">&quot;</span>
}
<span class="nv">greet</span><span class="ss">(</span><span class="nv">person</span>: <span class="s2">&quot;</span><span class="s">joker</span><span class="s2">&quot;</span>, <span class="nv">day</span>: <span class="s2">&quot;</span><span class="s">Thursday</span><span class="s2">&quot;</span><span class="ss">)</span>
</pre></div>
</td></tr></table></p>
</li>
<li>
<p>可以使用<code class="codehilite"><span class="n">tuple</span></code>来返回多值，可根据位置索引取<code class="codehilite"><span class="n">tuple</span></code>各元素值，也可以命名可元素标签</p>
</li>
<li>
<p>函数可以嵌套，可访问外层变量</p>
</li>
<li>
<p>闭包<code class="codehilite"><span class="err">{</span>  <span class="err">参数及返回会</span> <span class="k">in</span> <span class="err">体</span> <span class="err">}</span></code>， <code class="codehilite"><span class="err">$</span><span class="mi">0</span></code>，闭包的第一个参数， 闭包作为函数的最后一个参数时可以放在最后，即<code class="codehilite"><span class="k">trailing</span> <span class="n">closure</span></code></p>
</li>
<li>
<p><code class="codehilite"><span class="k">class</span></code>声明类，<code class="codehilite"><span class="p">:</span></code>表示继承，<code class="codehilite"><span class="n">init</span></code>、<code class="codehilite"><span class="n">deinit</span></code>初始化和反初始化器</p>
</li>
<li>
<p><code class="codehilite"><span class="n">override</span></code> 覆盖父类方法必须是显式指定</p>
</li>
<li>
<p>getter和setter, <code class="codehilite"><span class="n">newValue</span></code>和
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">var</span> <span class="n">Name</span><span class="p">:</span> <span class="k">Type</span> <span class="err">{</span>

    <span class="k">get</span> <span class="err">{</span>

    <span class="err">}</span>

    <span class="n">willSet</span> <span class="err">{</span>

    <span class="err">}</span>
    <span class="k">set</span><span class="p">(</span><span class="n">newValue</span><span class="p">)</span> <span class="err">{</span>

    <span class="err">}</span>
<span class="err">}</span>
</pre></div>
</td></tr></table></p>
</li>
<li>
<p>链式操作中经常使用<code class="codehilite"><span class="o">?</span></code>符号</p>
</li>
<li>
<p><code class="codehilite"><span class="k">enum</span></code>定义枚举，<code class="codehilite"><span class="n">rawValue</span></code>可以指定，不仅限定于Int</p>
</li>
<li>
<p><code class="codehilite"><span class="n">struct</span></code>定义结构体，和类的主要区别是结构体是值类型</p>
</li>
<li>
<p><code class="codehilite"><span class="n">protocol</span></code>定义协议，类、结构体和枚举都可以使用协议，<code class="codehilite"><span class="n">mutating</span></code>修饰结构体和枚举中的协议方法实现，可以修改值类型成员</p>
</li>
<li>
<p>可以使用扩展<code class="codehilite"><span class="n">extension</span></code>来使用协议，可以把协议名作为一种类型来调用所有遵循该协议类型对象，只限于协议定义的内容</p>
</li>
<li>
<p><code class="codehilite"><span class="n">throw</span></code>可以抛出一个异常，<code class="codehilite"><span class="n">throws</span></code>指明一个函数可以抛出异常，使用<code class="codehilite"><span class="k">do</span><span class="o">-</span><span class="nv">try</span>[?]<span class="o">-</span><span class="nv">catch</span>...</code>来处理异常, <code class="codehilite"><span class="n">try</span><span class="o">?</span></code>把结果转化为<code class="codehilite"><span class="n">Optional</span></code>类型，抛出错误时返回nil, 否则返回包含结果的<code class="codehilite"><span class="n">Optional</span></code></p>
</li>
<li>
<p><code class="codehilite"><span class="n">defer</span></code>描述的代码块会在函数返回前一刻执行，不论函数执行是否抛出错误</p>
</li>
<li>
<p>泛型<code class="codehilite"><span class="o">&lt;</span><span class="n">TypeName</span><span class="p">:</span><span class="n">TypeProtocol</span><span class="o">&gt;</span></code> <code class="codehilite"><span class="k">where</span> <span class="n">TypeRequirement</span></code>在执行体前面使用：<code class="codehilite"><span class="o">&lt;</span><span class="n">T</span><span class="p">:</span> <span class="n">Equatable</span><span class="o">&gt;</span></code>和<code class="codehilite"><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="p">...</span> <span class="k">where</span> <span class="n">T</span><span class="p">:</span> <span class="n">Equatable</span></code>等价</p>
</li>
</ul>
<h2 id="_2">语言细节<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><code class="codehilite"><span class="n">keyword</span></code>使用swift关键字同名的名字命名变量</p>
</li>
<li>
<p><code class="codehilite"><span class="o">//</span></code>单行注释</p>
</li>
<li>
<p><code class="codehilite"><span class="cm">/* */</span><span class="w"></span></code>多行注释， 可以嵌套多行注释</p>
</li>
<li>
<p>句尾分号可以省略</p>
</li>
<li>
<p><code class="codehilite"><span class="mi">0</span><span class="n">b</span></code>、<code class="codehilite"><span class="mi">0</span><span class="n">o</span></code>、<code class="codehilite"><span class="mi">0</span><span class="n">x</span></code>表示二进制、八进制、十六进制</p>
</li>
<li>
<p>指数表示：<code class="codehilite"><span class="mi">1</span><span class="n">e3</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">10</span></code>、<code class="codehilite"><span class="mi">1</span><span class="n">p2</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span></code></p>
</li>
<li>
<p>易读数字格式：<code class="codehilite"><span class="mi">1</span><span class="n">_000_000</span> <span class="o">=</span> <span class="mi">1000000</span></code></p>
</li>
<li>
<p><code class="codehilite"><span class="n">typealias</span> <span class="n">NewTypeName</span> <span class="o">=</span> <span class="n">existedTypeName</span></code>类型别名定义</p>
</li>
<li>
<p>元组<code class="codehilite"><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n">ele1</span><span class="p">,</span> <span class="n">ele2</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span></code>,元组可以通过下标或元素来访问单个元素，不适合复杂数据结构</p>
</li>
<li>
<p><code class="codehilite"><span class="n">Optionals</span></code>类型的变量可以有值也可以没有值，统一可以表示各种类型变量没有值的情况</p>
</li>
<li>
<p><code class="codehilite"><span class="n">nil</span></code>不能给非<code class="codehilite"><span class="n">optionals</span></code>变量赋值，OC中的nil是指向一个不存在对象的指针，只对对象类型有效，而swift中的nil不是一个指针，它只是表示一种不存在值的状态，对所有类型有效。</p>
</li>
<li>
<p><code class="codehilite"><span class="o">!</span></code>强制解包，如果一个<code class="codehilite"><span class="n">Optional</span></code>变更确定有值， 就可以使用<code class="codehilite"><span class="o">!</span></code>来使用其值</p>
</li>
<li>
<p><code class="codehilite"><span class="n">Optionals</span> <span class="err">绑定</span></code>，用于从<code class="codehilite"><span class="n">Optional</span></code>变量中提取值并赋于局部变量使用，在单个if语句中可以使用多个Optional绑定，只要有一个为假，则整个判断为假</p>
</li>
<li>
<p>隐式解绑<code class="codehilite"><span class="n">Optional</span><span class="err">！</span></code>，确保它声明后一直有值且不为nil, 但它本身还是一个<code class="codehilite"><span class="n">Optional</span></code>，只是在访问时会自动解包</p>
</li>
<li>
<p>函数能抛出错误用<code class="codehilite"><span class="n">throws</span></code>指明，当调用一个可以抛出错误的函数时，前面要加上<code class="codehilite"><span class="n">try</span></code></p>
</li>
<li>
<p><code class="codehilite"><span class="n">Assertions</span></code>只在调试期间起作用，<code class="codehilite"><span class="n">precondition</span></code>可调试和生产环境中都起作用。<code class="codehilite"><span class="n">Assertions</span></code>在单元测试中经常用到,如果编译器开了<code class="codehilite"><span class="o">-</span><span class="n">Ounchecked</span></code>选项，<code class="codehilite"><span class="n">precondition</span></code>会被一直认为成功。</p>
</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">assert</span><span class="p">(</span><span class="n">exp</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span> <span class="err">失败时显示</span><span class="n">msg</span><span class="err">，成功时继续执行</span>

<span class="n">assertionFailure</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="err">直接表示失败时的</span><span class="n">msg</span><span class="err">显示</span>

<span class="n">precondition</span><span class="p">(</span><span class="n">exp</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span><span class="err">调试和生产环境都起作用</span>
<span class="n">preconditionFailure</span><span class="p">(:</span><span class="n">file</span><span class="p">:</span><span class="n">line</span><span class="p">)</span>
<span class="n">fatalError</span><span class="p">(</span><span class="n">_</span><span class="p">:</span><span class="n">file</span><span class="p">:</span><span class="n">line</span><span class="p">:)</span><span class="err">严重错误，不会被编译器优化</span>
</pre></div>
</td></tr></table>

<ul>
<li>
<p>swfit的<code class="codehilite"><span class="o">=</span></code>赋值不会有返回值，数值默认不允许溢出，但可以明确指定可以溢出</p>
</li>
<li>
<p>一元运算符紧挨运算子，没有空格：<code class="codehilite"><span class="o">-</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">!</span></code>,二元运算:<code class="codehilite"><span class="n">a</span> <span class="o">+</span> <span class="n">b</span></code>，三元运算:<code class="codehilite"><span class="n">a</span> <span class="o">?</span> <span class="n">b</span> <span class="p">:</span> <span class="k">c</span></code></p>
</li>
<li>
<p>赋值运算的右边如果是元组，可以自动解析为多个元素赋给左边的变量</p>
</li>
<li>
<p><code class="codehilite"><span class="c">%</span></code>运算的原理：<code class="codehilite"><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span> <span class="n">x</span> <span class="k">some</span> <span class="n">multiplier</span> <span class="p">)</span> <span class="o">+</span> <span class="n">remainder</span></code>, 不考虑<code class="codehilite"><span class="n">b</span></code>的符号</p>
</li>
<li>
<p>混合赋值运算也不会返回值，这一点和赋值一致</p>
</li>
<li>
<p>全等运算<code class="codehilite"><span class="o">===</span></code>,不全等<code class="codehilite"><span class="o">!==</span></code>，用来判断两个引用是否指向同一个对象</p>
</li>
<li>
<p>如果两个元组有相同的类型和元素个数，它们也可以进行比较，从左到右依次比较，直到发现两个元素不相等时停止比较后面的元素，只有所有元素都支持同一比较运算时才可以比较两个元组，最高能比较有六个元素的无组，再多元素的比较需要自己实现</p>
</li>
<li>
<p>三元运算符不要嵌套使用，使程序更加可读</p>
</li>
<li>
<p><code class="codehilite"><span class="n">a</span> <span class="o">??</span> <span class="n">b</span></code>，如果a有值就返回，如果a为nil，则返回b</p>
</li>
<li>
<p>闭区间<code class="codehilite"><span class="n">a</span><span class="p">...</span><span class="n">b</span></code>，半开区间:<code class="codehilite"><span class="n">a</span><span class="p">..</span><span class="o">&lt;</span><span class="n">b</span></code>
单端区间在数组上的应用<code class="codehilite"><span class="p">[</span><span class="n">a</span><span class="p">...]</span></code>用在数组索引，表示从a开始及其后的所有元素，还有<code class="codehilite"><span class="p">[...</span><span class="n">a</span><span class="p">]</span></code>，表示从头开始到a索引</p>
</li>
<li>
<p><code class="codehilite"><span class="ss">&quot;&quot;</span><span class="err">&quot;</span></code>多行字符串中也可以使用<code class="codehilite"><span class="err">\</span></code>来转义换行符来续行，在闭合的<code class="codehilite"><span class="ss">&quot;&quot;</span><span class="err">&quot;</span></code>前面的空格指名多行字符要忽略的缩进</p>
</li>
<li>
<p><code class="codehilite"><span class="n">String</span></code>是值类型</p>
</li>
<li>
<p>字符串是字符的集合，可以被枚举，元素的类型是<code class="codehilite"><span class="nb">Character</span></code></p>
</li>
<li>
<p><code class="codehilite"><span class="err">\</span><span class="p">()</span></code>字符串插入可以用于多行字符串</p>
</li>
<li>
<p><code class="codehilite"><span class="err">\</span><span class="n">u</span><span class="err">{</span><span class="n">n</span><span class="err">}</span></code>1～8位的Unicode字符标量</p>
</li>
<li>
<p><code class="codehilite"><span class="nb">Character</span></code>每一个实例都是一个扩展图像簇，每一个扩展图像簇都可以包含多个Unicode标量，用来生成单个可读字符，可以用来显示一些组合字符，使用<code class="codehilite"><span class="k">count</span></code>发生获取字符串长度，也是由于这个原因，swift的字符串中的字符不能使用索引来直接引用，<code class="codehilite"><span class="n">endIndex</span></code>不是一个有效的字符索引，String的<code class="codehilite"><span class="n">indices</span></code>是所有字符元素的索引数组</p>
</li>
<li>
<p>子字符串类型<code class="codehilite"><span class="k">Substring</span></code>, 只是临时使用</p>
</li>
<li>
<p><code class="codehilite"><span class="nb">Character</span></code>有<code class="codehilite"><span class="n">utf8</span></code>、<code class="codehilite"><span class="n">utf16</span></code>和<code class="codehilite"><span class="n">unicodeScalars</span></code>三种Unicode兼容的编码数组</p>
</li>
<li>
<p>集合类型：<code class="codehilite"><span class="nb">Array</span></code>、<code class="codehilite"><span class="k">Set</span></code>、<code class="codehilite"><span class="k">Dictionary</span></code></p>
</li>
<li>
<p><code class="codehilite"><span class="nb">Array</span><span class="p">(</span><span class="n">repeating</span><span class="p">:</span><span class="k">count</span><span class="p">:)</span></code>可以在定义时初始化，</p>
</li>
<li>
<p><code class="codehilite"><span class="n">enumerated</span>()</code>方法会返回以(index, emelemt)为元素的数组 </p>
</li>
<li>
<p>集合中元素的类型必须是能hash的，以确保唯一性，集合没有简短写法，声明集合必须显式指明类型，不能类型推断</p>
</li>
<li>
<p>switch中的case 后面可以跟<code class="codehilite"><span class="k">where</span></code></p>
</li>
<li>
<p>控制转移关键字: <code class="codehilite"><span class="k">continue</span></code>、<code class="codehilite"><span class="k">break</span></code>、<code class="codehilite"><span class="n">fallthrough</span></code>、<code class="codehilite"><span class="k">return</span></code>、<code class="codehilite"><span class="n">throw</span></code></p>
</li>
<li>
<p>语句标签<code class="codehilite"><span class="n">label</span><span class="p">:</span></code>可以和<code class="codehilite"><span class="k">break</span></code>、<code class="codehilite"><span class="k">continue</span></code>一起使用，可以实现与C语言中goto相同的效果 </p>
</li>
<li>
<p><code class="codehilite"><span class="nv">guard</span> <span class="o">-</span> <span class="k">else</span></code>如果guard的条件不成立，就执行else块儿的语句</p>
</li>
<li>
<p><code class="codehilite"><span class="o">#</span><span class="n">available</span><span class="p">(</span><span class="n">iOS</span> <span class="mi">10</span><span class="p">,</span> <span class="n">macOS</span> <span class="mi">10</span><span class="p">.</span><span class="mi">12</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span></code>API有效性判断</p>
</li>
<li>
<p>函数有<code class="codehilite"><span class="err">参数标签</span></code>和<code class="codehilite"><span class="err">参数名</span></code>，默认参数标签和参数名一样，也可以分别指定，可以使用<code class="codehilite"><span class="n">_</span></code>忽略参数标签</p>
</li>
<li>
<p>可变参数类型<code class="codehilite"><span class="n">Double</span><span class="p">...</span></code>，一个函数最多只能有一个可变参数，可变参数要放在参数列表的最后</p>
</li>
<li>
<p>函数的参数默认是常量，<code class="codehilite"><span class="k">inout</span></code>修改参数可以在函数体内修改参数值，只能把变量传给inout类型的参数，并且传参时要在前面加一个<code class="codehilite"><span class="o">&amp;</span></code>号，以表示这个参数可以被修改</p>
</li>
<li>
<p>函数就是命名的闭包，嵌套函数可以捕获外层的变量，可以推断变量，单表达式闭包默认会返回值，还有<code class="codehilite"><span class="k">Trailing</span> <span class="n">Closure</span></code>语法</p>
</li>
<li>
<p>闭包的语法： <code class="codehilite">{<span class="ss">(</span><span class="nv">parameters</span><span class="ss">)</span> <span class="o">-&gt;</span> <span class="k">return</span> <span class="nv">type</span> <span class="nv">in</span> <span class="nv">statements</span> }</code>, 闭包中参数的简写：<code class="codehilite"><span class="err">$</span><span class="mi">0</span></code></p>
</li>
<li>
<p>如果闭包被赋给类的成员变量，并且闭包本身又引用了类的成员，就会造成循环引用，Swfit使用捕获列表来解决这种循环引用问题</p>
</li>
<li>
<p>闭包是引用类型</p>
</li>
<li>
<p><code class="codehilite"><span class="n">escaping</span></code>闭包：当一个闭包被当作参数传入一个函数，却在该函数返回后被调用。关键字<code class="codehilite"><span class="nv">@escaping</span><span class="w"></span></code></p>
</li>
<li>
<p>自动闭包：自动创建来包裹表达式并传给其它函数，关键字：<code class="codehilite"><span class="nv">@autoclosure</span><span class="w"></span></code></p>
</li>
<li>
<p>枚举可以有结合值和默认值(rawValue), </p>
</li>
<li>
<p>递归枚举：有另一个枚举作为case结合值的枚举类型,使用<code class="codehilite"><span class="n">indirect</span></code>表明它是一个递归枚举</p>
</li>
<li>
<p><code class="codehilite"><span class="k">class</span></code>是引用类型，使用<code class="codehilite"><span class="o">===</span></code>和<code class="codehilite"><span class="o">!==</span></code>来判断两个引用是否指向同一个实例</p>
</li>
<li>
<p>swift中一些基本类型都是使用<code class="codehilite"><span class="n">struct</span></code>来实现的，像<code class="codehilite"><span class="n">String</span></code>、<code class="codehilite"><span class="nb">Array</span></code>、<code class="codehilite"><span class="k">Dictionary</span></code>等，不像Foundation中的实现是使用类</p>
</li>
<li>
<p><code class="codehilite"><span class="n">Struct</span></code>和<code class="codehilite"><span class="k">class</span></code>可以声明存储属性，但是<code class="codehilite"><span class="n">Struct</span></code>、<code class="codehilite"><span class="k">Class</span></code>和<code class="codehilite"><span class="n">Enumeration</span></code>都可以声明计算属性</p>
</li>
<li>
<p>储存属性可以定义属性观察器</p>
</li>
<li>
<p>当一个值类型的实例被声明为常量，它的所有成员都不可变，<code class="codehilite"><span class="k">class</span></code>的实例如果被声明为常量，它的成员还是可以改变，因为它是引用类型</p>
</li>
<li>
<p><code class="codehilite"><span class="n">lazy</span></code>属性，只在第一次使用时创建， 只能使用<code class="codehilite"><span class="n">var</span></code>声明，因为常量在初始化完成时必须有值， 而<code class="codehilite"><span class="n">lazy</span></code>变量可能在初始化完成时没有被创建， 多线程同时调用<code class="codehilite"><span class="n">lazy</span></code>变量时，如果它还没有被创建，则它不能保证只被创建一次</p>
</li>
<li>
<p>计算属性也必须使用<code class="codehilite"><span class="n">var</span></code>来声明，属性观察器<code class="codehilite"><span class="n">willSet</span><span class="p">(</span><span class="n">newValue</span><span class="p">)</span></code>、<code class="codehilite"><span class="n">didSet</span><span class="p">(</span><span class="n">newValue</span><span class="o">/</span><span class="n">oldValue</span><span class="p">)</span></code></p>
</li>
<li>
<p>全局常量和变量都是计算懒惰的，只是不需要<code class="codehilite"><span class="n">lazy</span></code>修饰</p>
</li>
<li>
<p>使用<code class="codehilite"><span class="k">static</span></code>关键字定义类型属性，使用<code class="codehilite"><span class="k">class</span></code>修饰的计算属性可以被子类重新实现</p>
</li>
<li>
<p><code class="codehilite"><span class="n">Struct</span></code>和<code class="codehilite"><span class="n">Enumeration</span></code>是值类型，默认不能从这们的实例方法修改属性
，如果修改修改，需要在实例方法前面加<code class="codehilite"><span class="n">mutaing</span></code>关键字，甚至可以修改self为另一个实例</p>
</li>
<li>
<p>类型方法使用<code class="codehilite"><span class="k">static</span></code>关键词放在函数前面定义，使用<code class="codehilite"><span class="k">class</span></code>定义的类型方法允许子类覆盖其实现</p>
</li>
<li>
<p><code class="codehilite"><span class="nv">@discardableResult</span><span class="w"></span></code>属性修改指时时数调用时可以忽略考虑返回值</p>
</li>
<li>
<p>类、结构体、枚举都可以定义下标操作，使用关键字<code class="codehilite"><span class="n">subscript</span></code>定义</p>
</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">subscript</span><span class="ss">(</span><span class="nv">index</span>: <span class="nv">Int</span><span class="ss">)</span> <span class="o">-&gt;</span> {
    <span class="nv">get</span> {
        <span class="o">//</span> <span class="k">return</span> <span class="nv">an</span> <span class="nv">appropriate</span> <span class="nv">subscript</span> <span class="nv">value</span> <span class="nv">here</span>
    }

    <span class="nv">set</span><span class="ss">(</span><span class="nv">newValue</span><span class="ss">)</span>{
        <span class="o">//</span> <span class="nv">perform</span> <span class="nv">a</span> <span class="nv">suitable</span> <span class="nv">setting</span> <span class="nv">action</span> <span class="nv">here</span>
    }
}
</pre></div>
</td></tr></table>

<ul>
<li>
<p><code class="codehilite"><span class="n">Dictionry</span></code>的元素赋<code class="codehilite"><span class="n">nil</span></code>相当于删除这个键值对</p>
</li>
<li>
<p><code class="codehilite"><span class="n">subscript</span></code>不能使用<code class="codehilite"><span class="k">inout</span></code>修改参数，也不能给参数提供默认值 </p>
</li>
<li>
<p>继承过来的属性不管是存储还是计算类型的都可以添加属性观察器</p>
</li>
<li>
<p>使用关键字<code class="codehilite"><span class="k">final</span></code>来阻止属性、类型、下标或方法被子类覆盖或继承</p>
</li>
<li>
<p>结构体或类型在实例创建时一定要把所有的存储属性都初始化，可以在初始化器里设置，也可以在属性定义时设置默认值，这两种方式都是直接设置属性值，不会调用属性观察器</p>
</li>
<li>
<p>定制初始化器：没有函数名，使用关键字<code class="codehilite"><span class="n">init</span></code>指定，可以有参数标签和参数名称</p>
</li>
<li>
<p>如果属性在初始化时没有值或者之后可能没有值，这样的属性应该定义为<code class="codehilite"><span class="n">Optional</span></code></p>
</li>
<li>
<p>初始化时可以赋值常量成员，类和结构体默认会提供初始化器</p>
</li>
<li>
<p>初始化器可以调用其它初始化器来完成初始化过程，这种调用叫作初始化代理，值类型和<code class="codehilite"><span class="k">Class</span></code>类型的初始化代理方式有些区别</p>
</li>
<li>
<p>值类型不支持继承，它们的初始化代理过程比较简单，只使用自身提供的初始化器作代理</p>
</li>
<li>
<p>如果要自定义初始化器，在值类型中就不会自动生成的初始化器了需要自己显式的写出来，如果要保留自动生成的初始化器，自定义的初始化器要写在扩展里面</p>
</li>
<li>
<p>所以类的存储属性包括继承而来的都必须在初始化赋予初值</p>
</li>
<li>
<p><code class="codehilite"><span class="k">class</span></code>定义两类初始化器：指定初始化器和便利初始化器，用来确保所有的存储属性都能被初始化</p>
</li>
<li>
<p>指定初始化器是一个类的主要初始化器，它负责初始化本类的所有属性并调用合适的父类指定初始化器初始化父类</p>
</li>
<li>
<p>每个类至少要有一个指定初始化器，便利初始化器通过调用同类的指定初始化器来作一些初始化实例的工作，像它的名字一样，便利初始化器只是为了方便初始化流程而设计的</p>
</li>
<li>
<p>便利初始化器使用<code class="codehilite"><span class="n">convenience</span></code>关键词标示，指定初始化器不用</p>
</li>
<li>
<p>初始化代理的过程有三个规则：</p>
<ul>
<li>子类指定初始化器必须调用父类指定初始化器(纵向)</li>
<li>便利初始化器必须调用同类的初始化器（横向）</li>
<li>便利初始化器最终需要调用同类的指定初始化器完成初始化工作</li>
</ul>
</li>
<li>
<p>两阶段初始化，保证属性在初始化前不被访问。第一阶段：类先把自己的属性初始化 第二阶段：按需赋值初始化过的属性</p>
</li>
<li>
<p>初始化安全检查：</p>
<ul>
<li>在指定初始化器调用父类指定初始化器之前，要确保本类的所有存储属性都先被初始化</li>
<li>修改父类属性值前必须先调用父类的指定初始化器，否则新赋的值就会在父类指定初始化器被调用后而改变</li>
<li>便利初始化器在改变属性值前要调用另一个初始化器</li>
<li>在第一阶段初始化完成前，初始化器不可以调用实例方法或读任意属性值或引用<code class="codehilite"><span class="k">self</span></code></li>
</ul>
</li>
<li>
<p>初始化阶段1：</p>
<ol>
<li>初始化器被调用</li>
<li>实例内存被分配，但还没有初始化</li>
<li>本类的指定初始化器调用来初始化所有的本类存储变量</li>
<li>父类的指定初始化器被调用来初始化所有父类的存储变量，直到所有的父类存储变量都被初始化为止</li>
<li>这时所有的存储变量都被初始化，第一阶段完成</li>
</ol>
</li>
<li>
<p>初始化阶段2：从最高父类向下的过程中就可以进一步配置属性值了，这一阶段实例已经可以被正常使用了</p>
</li>
<li>
<p><code class="codehilite"><span class="n">failable</span></code>初始化器<code class="codehilite"><span class="n">init</span><span class="o">?</span></code>标识，<code class="codehilite"><span class="k">return</span> <span class="nv">nil</span></code>指明初始化失败</p>
</li>
<li>
<p>带<code class="codehilite"><span class="n">rawValue</span></code>的枚举类型会自动生成<code class="codehilite"><span class="n">failable</span></code>初始化器</p>
</li>
<li>
<p><code class="codehilite"><span class="n">init</span><span class="o">!</span></code>创建自动解包的初始化器</p>
</li>
<li>
<p>用<code class="codehilite"><span class="n">required</span></code>修饰的初始化器子类必须实现</p>
</li>
<li>
<p>可以使用闭包来初始化一个变量
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">var</span> <span class="nv">a</span> <span class="o">=</span> { <span class="k">return</span> <span class="mi">0</span> }<span class="ss">()</span>
</pre></div>
</td></tr></table></p>
</li>
<li>
<p>反初始化<code class="codehilite"><span class="n">deinit</span></code>只作用于<code class="codehilite"><span class="k">class</span></code>，一个类最多只有一个<code class="codehilite"><span class="n">deinit</span> <span class="err">{}</span></code>, 可以用来释放资源</p>
</li>
<li>
<p><code class="codehilite"><span class="n">Optional</span></code>链式调用<code class="codehilite"><span class="o">?</span><span class="p">.</span></code></p>
</li>
<li>
<p><code class="codehilite"><span class="n">try</span></code>、<code class="codehilite"><span class="n">try</span><span class="o">?</span></code>、<code class="codehilite"><span class="n">try</span><span class="o">!</span></code>三种错误处理的区别</p>
<ul>
<li><code class="codehilite"><span class="n">try</span><span class="o">!</span></code>抑制错误</li>
<li><code class="codehilite"><span class="n">try</span><span class="o">?</span></code>如果发生错误时返回nil</li>
<li><code class="codehilite"><span class="n">try</span></code></li>
</ul>
</li>
<li>
<p><code class="codehilite"><span class="n">defer</span></code>块的代码会和正常的代码执行顺序不同，写在第一名的最后执行</p>
</li>
<li>
<p><code class="codehilite"><span class="k">is</span></code>和<code class="codehilite"><span class="k">as</span></code>判断类型和类型转换，<code class="codehilite"><span class="k">as</span><span class="o">?</span></code>尝试类型转换，<code class="codehilite"><span class="k">as</span><span class="o">!</span></code>强制类型转换， </p>
</li>
<li>
<p><code class="codehilite"><span class="k">Any</span></code>可以表示所有类型的实例，甚至是函数类型</p>
</li>
<li>
<p><code class="codehilite"><span class="n">AnyObject</span></code>可以表示任何类实例</p>
</li>
<li>
<p>扩展可以给类、结构体、枚举和协议添加功能：</p>
<ul>
<li>可以添加计算实例属性和计算类属性</li>
<li>可以定义实例方法和类方法</li>
<li>提供新初始化器</li>
<li>定义下标</li>
<li>定义嵌套类型</li>
<li>遵循协议</li>
<li>不能覆盖已存在函数</li>
<li>不能添加存储属性，不能添加属性观察器</li>
<li>只能添加便利初始化器，不能添加指定初始化器</li>
<li>不能添加<code class="codehilite"><span class="n">deinit</span></code></li>
</ul>
</li>
<li>
<p>协议如果继承了<code class="codehilite"><span class="n">AnyObject</span></code>协议就只能由<code class="codehilite"><span class="k">Class</span></code>类型继承它</p>
</li>
<li>
<p>组合类型<code class="codehilite"><span class="n">protocol</span> <span class="o">&amp;</span> <span class="n">antoherProtocol</span></code>表示任何同时遵循两个协议的类型</p>
</li>
<li>
<p><code class="codehilite"><span class="k">is</span></code>、<code class="codehilite"><span class="k">as</span></code>、<code class="codehilite"><span class="k">as</span><span class="o">?</span></code>，可以用来检查协议遵循</p>
</li>
<li>
<p>协议部分前有<code class="codehilite"><span class="n">optional</span></code>修饰的被遵循后可以不必实现，<code class="codehilite"><span class="nv">@objc</span><span class="w"></span></code>修饰的协议部分只能被继承自Objective-C的类遵循</p>
</li>
<li>
<p>协议扩展可以定义默认实现，可以使用<code class="codehilite"><span class="k">where</span></code>定义约束</p>
</li>
<li>
<p>泛型类型也可以添加约束</p>
</li>
<li>
<p>协议可以定义<code class="codehilite"><span class="n">associatedtype</span></code>类型，使用时可以<code class="codehilite"><span class="n">typealias</span> <span class="n">associatedType</span> <span class="o">=</span> <span class="nb">Int</span></code>，也可以给附加类型加约束</p>
</li>
<li>
<p><code class="codehilite"><span class="n">weak</span></code>和<code class="codehilite"><span class="n">unowned</span></code>修改变量或属性可以用来解决循环引用问题，<code class="codehilite"><span class="n">weak</span></code>修改的一定是<code class="codehilite"><span class="n">optional</span></code>的变量，因为它会在运行时变为nil
<code class="codehilite"><span class="n">unowned</span></code>修改的变量一定要有值，它不会是nil, <code class="codehilite"><span class="n">unowned</span><span class="p">(</span><span class="n">unsafe</span><span class="p">)</span></code>需要自己确保运行时安全</p>
</li>
<li>
<p>闭包引起的循环引用可以使用捕获列表(capture list)解决：<code class="codehilite"><span class="p">[</span><span class="n">weak</span> <span class="k">self</span><span class="p">,</span> <span class="n">unowned</span> <span class="n">delegate</span><span class="p">]</span></code>放在闭我的参数列表前面</p>
</li>
<li>
<p>重叠访问可能会造成不一致问题，通常与<code class="codehilite"><span class="k">inout</span></code>和<code class="codehilite"><span class="n">mutating</span></code>有关，造成访问冲突，如果编译器不能保证安全访问，就不会允许访问</p>
</li>
<li>
<p>swift访问控制模型基于模块和源文件，模块是代码分发单位，可以是框架或者应用，每一个<code class="codehilite"><span class="n">target</span></code>都是一个模块</p>
</li>
<li>
<p><code class="codehilite"><span class="k">open</span></code>和<code class="codehilite"><span class="k">public</span></code>可以在同一个模块的任何源文件中访问，也可以在被导入的另一个模块的源文件中被访问,<code class="codehilite"><span class="k">open</span></code>的范围比<code class="codehilite"><span class="k">public</span></code>更大点，包括了被导入的另一个模块的范围</p>
</li>
<li>
<p><code class="codehilite"><span class="n">internel</span></code>只能在本模块中的源文件中被访问</p>
</li>
<li>
<p><code class="codehilite"><span class="n">fileprivate</span></code>只在文件内部可被访问</p>
</li>
<li>
<p><code class="codehilite"><span class="n">private</span></code>只在一个声明的范围内部访问</p>
</li>
</ul>
<p>-<code class="codehilite"><span class="nv">@testable</span><span class="w"></span></code>修饰导入声明时，单元测试就可以访问模块的内部实体了</p>
<ul>
<li>
<p>swfit默认运算不允许溢出，<code class="codehilite"><span class="o">&amp;+</span></code>、<code class="codehilite"><span class="o">&amp;-</span></code>、<code class="codehilite"><span class="o">&amp;*</span></code>显式的指定允许溢出</p>
</li>
<li>
<p>自定义运算和运算符: </p>
</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">prefix</span><span class="o">|</span><span class="k">infix</span><span class="o">|</span><span class="k">postfix</span> <span class="k">operator</span> <span class="o">+++</span><span class="p">:</span> <span class="n">precedence</span>

<span class="k">static</span> <span class="k">prefix</span><span class="o">|</span><span class="k">infix</span><span class="o">|</span><span class="k">postfix</span> <span class="n">func</span> 
</pre></div>
</td></tr></table>

<ul>
<li>
<p><code class="codehilite"><span class="n">indirect</span></code>可以用来定义递归枚举</p>
</li>
<li>
<p><code class="codehilite"><span class="o">~=</span></code>是枚举中表达式匹配时使用的运算符</p>
</li>
</ul>
<h2 id="_3">语言参考<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><code class="codehilite"><span class="o">-&gt;</span></code>表示由后面的构成</p>
</li>
<li>
<p><code class="codehilite"><span class="o">|</span></code>表示或者</p>
</li>
<li>
<p><code class="codehilite"><span class="n">opt</span></code>下标，表示可有可无</p>
</li>
</ul><h2 id="__comments">评论</h2><div id="disqus_thread"></div><script>var disqus_config = function () {
      this.page.url = "http://blog.jokerhub.cn/iOS/swift4-notes/";
      this.page.identifier =
        "/iOS/swift4-notes/";
    };
    (function() {
      var d = document, s = d.createElement("script");
      s.src = "//jokerhub-blog.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();</script></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../XCode 9 CI/" title="持续集成" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">后退</span>持续集成</span></div></a><a href="../swift5-notes/" title="Swift5" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">前进</span>Swift5</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright"><div class="md-footer-copyright__highlight">Created by Wang Zhizhou</div>powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div><div class="md-footer-social"><link rel="stylesheet" href="../../assets/fonts/font-awesome.css"> <a href="https://github.com/wangzhizhou" class="md-footer-social__link fa fa-github"></a>  <a href="https://twitter.com/w_z_z_1991" class="md-footer-social__link fa fa-twitter"></a>  <a href="https://linkedin.com/in/wangzhizhou" class="md-footer-social__link fa fa-linkedin"></a> </div></div></div></footer></div><script src="../../assets/javascripts/application.b260a35d.js"></script><script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script><script src="../../assets/javascripts/lunr/tinyseg.js"></script><script src="../../assets/javascripts/lunr/lunr.ja.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script><script src="../../javascripts/extra.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>