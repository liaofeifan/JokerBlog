<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="wangzhizhou">
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Configure Git Server With Ubuntn and Apache 2 - Joker's Blog</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../..">Joker's Blog</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../..">About Me</a>
                    </li>
                    <li >
                        <a href="../../How I create this blog/">Create your own blog as me</a>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Z-turn <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../Network Simulator 2 Installation Guide for Ubuntu/">Network Simulator 2 Installation Guide for Ubuntu</a>
</li>
                            
<li >
    <a href="../Learn STL In 30 Minutes/">Learn STL In 30 Minutes</a>
</li>
                            
<li >
    <a href="../Installation of Ubuntu 16.04 On UDisk/">Installation of Ubuntu 16.04 On UDisk</a>
</li>
                            
<li class="active">
    <a href="./">Configure Git Server With Ubuntn and Apache 2</a>
</li>
                            
<li >
    <a href="../Add Watermark on Video with OpenCV and FFmpeg/">Add Watermark on Video with OpenCV and FFmpeg</a>
</li>
                            
<li >
    <a href="../Develop DLNA Using Platinum Library/">Develop DLNA Using Platinum Library</a>
</li>
                            
<li >
    <a href="../FFmpeg and SDL tutorial 1/">FFmpeg and SDL tutorial 1</a>
</li>
                            
<li >
    <a href="../FFmpeg compiled on MacOS/">FFmpeg compiled on MacOS</a>
</li>
                            
<li >
    <a href="../FFmpeg version 3.1.4 example code/">FFmpeg version 3.1.4 example code</a>
</li>
                            
<li >
    <a href="../Fmpeg 2.8.6 example code - transcoding/">Fmpeg 2.8.6 example code   transcoding</a>
</li>
                            
<li >
    <a href="../Nmap Basics/">Nmap Basics</a>
</li>
                            
<li >
    <a href="../Use GDB/">Use GDB</a>
</li>
                            
<li >
    <a href="../User OpenCV to add watermark on a video/">User OpenCV to add watermark on a video</a>
</li>
                            
<li >
    <a href="../Wireshark Basics/">Wireshark Basics</a>
</li>
                            
<li >
    <a href="../Optimizing App Startup Time/">Optimizing App Startup Time</a>
</li>
                            
<li >
    <a href="../OpenVPN on Raspberry Pi/">OpenVPN on Raspberry Pi</a>
</li>
                            
<li >
    <a href="../swift on client and server/">Swift on client and server</a>
</li>
                            
<li >
    <a href="../my hardware/">My hardware</a>
</li>
                            
<li >
    <a href="../kotlin/">Kotlin</a>
</li>
                            
<li >
    <a href="../Convert MP4 to GIF With FFmpeg/">Convert MP4 to GIF With FFmpeg</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">etc <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../life/alipay-scan-fu-icon/">Alipay scan fu icon</a>
</li>
                            
<li >
    <a href="../../life/Renting in Beijing/">Renting in Beijing</a>
</li>
                            
<li >
    <a href="../../life/Gu Bei Shui Zhen/">Gu Bei Shui Zhen</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Music <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../music/whistle/">Whistle</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Game <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../minecraft/minecraft/">Minecraft</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Me <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../me/English Personal Resume/">English Personal Resume</a>
</li>
                            
<li >
    <a href="../../me/My Plan for finding Job/">My Plan for finding Job</a>
</li>
                            
<li >
    <a href="../../me/Personal Pre-Work Record/">Personal Pre Work Record</a>
</li>
                            
<li >
    <a href="../../me/My Financial Planning/">My Financial Planning</a>
</li>
                            
<li >
    <a href="../../me/Life in Beijing/">Life in Beijing</a>
</li>
                            
<li >
    <a href="../../me/jokerhub/">Jokerhub</a>
</li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../Installation of Ubuntu 16.04 On UDisk/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../Add Watermark on Video with OpenCV and FFmpeg/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/wangzhizhou/JokerBlog">
                                <i class="fa fa-github"></i>GitHub
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#configure-git-server-with-ubuntu-and-apache-2">Configure Git Server With Ubuntu and Apache 2</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="configure-git-server-with-ubuntu-and-apache-2">Configure Git Server With Ubuntu and Apache 2</h1>
<p>I always wanted to establish a local git server that I can push my code or other material on it. But there is no enough time for me to take it into practice. And This weekend, I make it working. So, I want to record this process for review.</p>
<p>I have a <strong>Raspberry pi 3 Model B</strong> card computer, and Ubuntu system is hosted on it. So, I can manipulate it through the <strong>ssh</strong> protocol by my Mac Book Pro terminal.</p>
<p>So, Let's start working!</p>
<p>First, we should install the <code>git</code> and <code>Apache Http Server</code>, using command as follow:</p>
<pre><code>sudo apt-get -y install git apache2
</code></pre>

<p>With <code>git</code> installed, we can create our repositories on local disk.</p>
<p>With <code>Apache2 Http Server</code> installed, we can make the local disk repositories be access by other people connecting the same local network. </p>
<p>So, we should go under the directory: <code>/var/www/html/</code> to create our bare git repository and configure it with command: </p>
<pre><code>pi@raspberrypi:~/Documents $ sudo git init --bare /var/www/html/sample.git
Initialized empty Git repository in /var/www/html/sample.git/
pi@raspberrypi:~ $ cd /var/www/html/sample.git/hooks/
pi@raspberrypi:/var/www/html/sample.git/hooks $ sudo mv post-update.sample post-update
pi@raspberrypi:/var/www/html/sample.git/hooks $ sudo chmod a+x post-update 
pi@raspberrypi:/var/www/html/sample.git/hooks $ cd ..
pi@raspberrypi:/var/www/html/sample.git $ sudo git update-server-info
</code></pre>

<p>because the directory:<code>/var/www/html/</code> is the default apache2 http server's root directory.</p>
<p>After we create the bare git repository under the server root directory, we should start the apache2 http server to make this repository been access by other in the same network.</p>
<p>Before we start apache, we should configure it. We add the line:</p>
<pre><code>ServerName localhost:80
</code></pre>

<p>into the top of the configuration file named: <code>apache2.conf</code>, which is under directory: <code>/etc/apache2/</code>. We can use the <code>vim</code> editor the change it as follow:</p>
<pre><code>sudo vi /etc/apache2/apache2.conf
</code></pre>

<p>The <code>apache2.conf</code> be changed as follow:</p>
<pre><code>ServerName localhost:80
# This is the main Apache server configuration file.  It contains the
# configuration directives that give the server its instructions.
# See http://httpd.apache.org/docs/2.4/ for detailed information about
# the directives and /usr/share/doc/apache2/README.Debian about Debian specific
# hints.
#
#
# Summary of how the Apache 2 configuration works in Debian:
# The Apache 2 web server configuration in Debian is quite different to
# upstream's suggested way to configure the web server. This is because Debian's
# default Apache2 installation attempts to make adding and removing modules,
# virtual hosts, and extra configuration directives as flexible as possible, in
# order to make automating the changes and administering the server as easy as
# possible.

# It is split into several files forming the configuration hierarchy outlined
# below, all located in the /etc/apache2/ directory:
#
#       /etc/apache2/
#       |-- apache2.conf
#       |       `--  ports.conf
#       |-- mods-enabled
#       |       |-- *.load

</code></pre>

<p>We save the changed file and exit with <code>:wq</code> vim command.</p>
<p>Now, we shoud start the http serve using the command: </p>
<pre><code>pi@raspberrypi:~ $ sudo /etc/init.d/apache2 restart 
[ ok ] Restarting apache2 (via systemctl): apache2.service.
</code></pre>

<p>if you use your browser with url: <code>http://192.168.0.121</code> and see some web page with title <code>Apache2 Debian Default Page</code>, congratulation! you web server is working.</p>
<blockquote>
<p><strong>Note:</strong>  The <code>ip: 192.168.0.121</code> may be not the same as you, because I installed the <code>Apache</code> on my RPi3 and access from my notebook. Or you can use the <code>127.0.0.1</code> if you work in the same one computer)</p>
</blockquote>
<p>Then you can clone you repository from the apache http server with the command on another computer in the same network:</p>
<pre><code>localhost:~ wangzhizhou$ git clone http://192.168.0.121/sample.git
Cloning into 'sample'...
warning: You appear to have cloned an empty repository.
Checking connectivity... done.
</code></pre>

<p>Of course, you can clone the repository under the same computer with the command: </p>
<pre><code>pi@raspberrypi:~ $ git clone http://localhost/sample.git
Cloning into 'sample'...
warning: You appear to have cloned an empty repository.
Checking connectivity... done.
</code></pre>

<p><strong>or</strong></p>
<pre><code>pi@raspberrypi:~ $ git clone http://127.0.0.1/sample.git
Cloning into 'sample'...
warning: You appear to have cloned an empty repository.
Checking connectivity... done.
</code></pre>

<p>Because, the <code>localhost</code> is equal the ip: <code>127.0.0.1</code></p>
<p>Now, you can pull repository from server, but you can not push your code to it, because the server directory access permission should be configured properly! This should be studied deeperly!</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>created by wangzhizhou</p>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
